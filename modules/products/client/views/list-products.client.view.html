<section>
  <div class="page-header">
    <h1>Products</h1>
  </div>
      <div class="ibox-content m-b-sm border-bottom">
       <div class="row">

            <div class="col-sm-2">
                <div class="form-group">
                    <label class="control-label" for="product_name">Product Title</label>
                    <input type="text" id="product_name" name="product_title" value="" placeholder="Product Title" class="form-control" ng-model="vm.searchKeyword.title" >
                </div>
            </div>
            <div class="col-sm-2">
                <div class="form-group">
                    <label class="control-label" for="product_price">Price</label>
                    <input type="text" id="product_price" name="product_price" value="" placeholder="Product Price" class="form-control" ng-model="vm.searchKeyword.price" >
                </div>
            </div>
           <div class="col-sm-2">
                <div class="form-group">
                    <label class="control-label" for="product_colour">Colour</label>
                    <input type="text" id="product_colour" name="product_colour" value="" placeholder="Product Colour" class="form-control" ng-model="vm.searchKeyword.colour" >
                </div>
            </div>
           <div class="col-sm-2">
                <div class="form-group">
                    <label class="control-label" for="product_name">Size</label>
                    <input type="text" id="product_size" name="product_size" value="" placeholder="Product Size" class="form-control" ng-model="vm.searchKeyword.size" >
                </div>
            </div>
        </div>
        <div><a class="btn btn-primary" ng-click="vm.searchKeyword.title='';vm.searchKeyword.size='';vm.searchKeyword.price='';vm.searchKeyword.colour='';">Clear all</a></div>
    </div>
  
  <div class="list-group">
    <table ng-table="vm.listProductTable" show-filter="true" class="footable table table-stripped toggle-arrow-tiny" data-page-size="15">
      <thead>
        <tr>
          <th data-toggle="true" ng-click="vm.order('title')" style="width:200px;">
            Title
            <span class="sortorder" ng-show="vm.predicate === 'title'" ng-class="{reverse:vm.reverse}"></span>
          </th>
          <th data-hide="all" ng-click="vm.order('category.title')" style="width:200px;">
            Category
            <span class="sortorder" ng-show="vm.predicate === 'category.title'" ng-class="{reverse:vm.reverse}"></span>
          </th>
          <th data-hide="phone" ng-click="vm.order('description')" style="width:200px;">
           Description
           <span class="sortorder" ng-show="vm.predicate === 'description'" ng-class="{reverse:vm.reverse}"></span>
          </th>
          <th data-hide="phone" ng-click="vm.order('price')" style="width:200px;">	Price
           <span class="sortorder" ng-show="vm.predicate === 'price'" ng-class="{reverse:vm.reverse}"></span>
          </th>
          <th data-hide="phone,tablet" ng-click="vm.order('stock')" style="width:200px;">
            Stock
            <span class="sortorder" ng-show="vm.predicate === 'stock'" ng-class="{reverse:vm.reverse}"></span>
          </th>
          <th data-hide="phone" ng-click="vm.order('size')" style="width:200px;">	Size
            <span class="sortorder" ng-show="vm.predicate === 'size'" ng-class="{reverse:vm.reverse}"></span>
          </th>
          <th data-hide="phone" ng-click="vm.order('colour')" style="width:200px;">	Colour
            <span class="sortorder" ng-show="vm.predicate === 'colour'" ng-class="{reverse:vm.reverse}"></span>
          </th>
          <th data-hide="phone" ng-click="vm.order('created')" style="width:200px;">	Creation
            <span class="sortorder" ng-show="vm.predicate === 'created'" ng-class="{reverse:vm.reverse}"></span>
          </th>
          <th class="text-right" data-sort-ignore="true">Action</th>
        </tr>
      </thead>
      <tbody ng-repeat="product in vm.data  | orderBy: vm.predicate: vm.reverse">
        <tr>
          <td>
            <h4 class="list-group-item-heading" ng-bind="product.title"></h4>
          </td>
          <td>
            <h5 class="list-group-item-text" ng-bind="product.category.title"></h4>
          </td>
          <td>
            <h5 class="list-group-item-text" ng-bind="product.description"></h4>
          </td>
          <td>
            <h5 class="list-group-item-text" ng-bind="product.price | currency"></h4>
          </td>
          <td>
            <h5 class="list-group-item-text" ng-bind="product.stock"></h4>
          </td>
          <td>
            <h5 class="list-group-item-text" ng-bind="product.size"></h4>
          </td>
          <td>
            <h5 class="list-group-item-text" ng-bind="product.colour"></h4>
          </td>
          <td>
            <small class="list-group-item-text">
              Posted on 
              <span ng-bind="product.created | date:'mediumDate'"></span>
              by
              <span ng-if="product.user" ng-bind="product.user.displayName"></span>
              <span ng-if="!product.user">Deleted User</span>
            </small>

          </td>

          <td class="text-right">
            <div class="btn-group">
              <table>
                <tr>
                  <td>
                    <a class="btn btn-primary btn btn-xs" ui-sref="products.view({ productId: product._id })" style="width:75px;">View</a>
                  </td>
                </tr>
                <tr><td>&nbsp;</td></tr>
                <tr>
                  <td>
                   <a class="btn btn-primary btn btn-xs" ui-sref="products.edit({ productId: product._id })" style="width:75px;">Edit</a>
                  </td>
                </tr>
                <tr><td>&nbsp;</td></tr>
                <tr>
                  <td>
                    <a class="btn btn-danger btn btn-xs" confirmed-click="vm.deleteProduct(product._id)" ng-confirm-click="Do yo want to delete {{product.title}} ?" style="width:75px;">Delete
                      <i class="glyphicon glyphicon-trash"></i>
                    </a>
                  </td>
                </tr>
              </table>
            </div>
          </td>
        </tr>
      </tbody>
    </table>

  </div>
  <div class="alert alert-warning text-center" ng-if="vm.products.$resolved && !vm.products.length">
    No products yet, why don't you <a ui-sref="products.create">create one</a>?
  </div>
</section>
